<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="frame-src 'self' unifiedconsent.osano.com">
    <script type="text/javascript" src="https://s.uc.osano.dev/sdk/latest.min.js" crossorigin="anonymous"></script>
    <title>Consumer UI Embedded Experience Test</title>
</head>
<body>
    <h1>Consumer UI Embedded Experience Test</h1>
    <h2>This page is intended to test the embedded experience of the Consumer UI product</h2>

    <iframe id="osano-iframe" src="https://unifiedconsent.osano.dev/763/" margin-top="50px" height="1000px" width="700px" frameBorder="0"></iframe>
    <script>
        const { UnifiedConsentByOsanoSDK } = window.unifiedConsentJsSdk;
        const embeddedHandler = UnifiedConsentByOsanoSDK.initEmbeddedParent({
          targetIframe: document.getElementById("osano-iframe")
        });
        embeddedHandler.on('consent:write', (payload) => {
            console.log('consent written', payload);
        })
        embeddedHandler.on('consent:write:gpc', (payload) => {
            console.log('GPC consent written', payload);
        })
    </script>
</body>
</html>
